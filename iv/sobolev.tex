\chapter{Spazi di Sobolev}
\label{ch:spazi-sobolev}

\section{Derivata debole}
\label{sec:derivata-debole}
Sia $I\subset\R$ un aperto: indichiamo con il simbolo $\locleb[1]{I}$ lo spazio delle funzioni da $I$ a $\R$ che sono in $\leb[1]{K}$ per ogni sottoinsieme $K$ compatto di $I$, vale a dire l'insieme
\begin{equation}
    \biggl\{u\colon I\to\R\colon \int_K\abs{u}\,\dd\mu<+\infty\quad\forall K\subset I\text{ compatto}\biggr\}.
\end{equation}
\begin{definizione} \label{d:derivata-debole}
    Data una funzione $u\in\locleb[1]{I}$, diciamo che $v\in\locleb[1]{I}$ è la \emph{derivata debole} di $u$ se
    \begin{equation}
        \int_I v\phi\,\dd\mu=-\int_I u\phi'\,\dd\mu
    \end{equation}
    per ogni $\phi\in\contsc[\infty]{I}$.
\end{definizione}
\begin{osservazione} \label{o:unicita-derivata-debole}
    La derivata debole, se esiste, è unica: se infatti $v_1$ e $v_2$ sono derivate deboli di $u\in\locleb[1]{I}$, allora detta $\tilde{v}\defeq v_1-v_2$ si ha che
    \begin{equation}
        \int_I \tilde{v}\phi\,\dd\mu=0
    \end{equation}
    per ogni $\phi\in\contsc[\infty]{I}$, da cui $\tilde{v}=0$ per il lemma \ref{t:fondamentale-calcolo-variazioni}.
\end{osservazione}
\begin{osservazione} \label{o:corrispondenza-derivata-debole}
    Se $u\in\cont[1]{I}$, allora ammette sempre una derivata debole, che coincide con la derivata ordinaria: integrando per parti si ha chiaramente che
    \begin{equation}
        \int_I u'\phi\,\dd\mu=-\int_I u\phi'\,\dd\mu
    \end{equation}
    quindi la derivata debole è proprio $u'$.
\end{osservazione}
In più variabili, preso $\Omega$ aperto in $\R^n$, abbiamo l'insieme $\locleb[1]{\Omega}$ definito in modo analogo, e questa volta possiamo calcolare la derivata debole per ciascuna variabile: la derivata debole di $u\in\locleb[1]{\Omega}$, se esiste, è la funzione $(v_1,\dotsc,v_n)\in\locleb[1]{\Omega}^n$ tale che
\begin{equation}
    \int_\Omega v_i\phi\,\dd\mu=-\int_\Omega u\drp{\phi}{x_i}\,\dd\mu
\end{equation}
sempre per ogni $\phi\in\contsc[\infty]{\Omega}$.

Le derivate deboli di ordine superiore a uno si definiscono in modo analogo.
Se $f$ è una funzione a $n$ variabili, associamo a ogni derivata una lista di $n$ indici $i_1,\dotsc,i_n$, tali per cui l'indice $i_k$ indica quante volte si è derivato rispetto alla $k$-esima variabile: una derivata di ordine $d$ è dunque tale che $i_1+\dotsb+i_n=d$.
Usiamo perciò la notazione con i \emph{multiindici}, ossia delle $n$-uple di numeri interi non negativi $\alpha=(\alpha_1,\dotsc,\alpha_n)\in\N_0^n$; definiamo la \emph{lunghezza} di un tale elemento come $\abs{\alpha}\defeq\alpha_1+\dotsb+\alpha_n$.
Indicheremo dunque le derivate parziali come
\begin{equation}
    D^\alpha f\defeq\frac{\partial^{\abs{\alpha}}f}{\partial^{\alpha_1}x_1\dotsm\partial^{\alpha_n}x_n},
\end{equation}
e $\abs{\alpha}$ è l'ordine di derivazione.
Detto ciò, data una funzione $f\in\leb[p]{\Omega}$, se esiste una $g$ tale che
\begin{equation}
    \int_\Omega fD^\alpha\,\dd\mu=(-1)^{\abs{\alpha}}\int_\Omega g\phi\,\dd\mu
\end{equation}
per ogni $\phi\in\contsc[\infty]{\Omega}$ allora $g$ è la $\alpha$-esima derivata debole di $f$.

Per funzioni a valori in uno spazio di Banach $X$, se $f\in\locleb[1]{0,T;X}$, ossia $f$ è integrabile in ogni sottoinsieme compatto di $[0,T]$, definiamo la derivata debole di $f$ come la funzione, se esiste, $g\in\locleb[1]{0,T;X}$ tale che
\begin{equation}
    \int_0^T \phi g\,\dd t=-\int_0^T \phi'f\,\dd t
    \label{eq:derivata-debole-banach}
\end{equation}
per ogni $\phi\in\contsc[\infty]{[0,T]}$, dove gli integrali sono intesi come integrali di Bochner (si veda la \ref{d:integrale-bochner}).

\section{Spazi di Sobolev}
Da qui in avanti, quanto parleremo di derivate (di qualsiasi tipo) intenderemo sempre le derivate deboli, e le indicheremo sempre con la notazione classica $\drv{f}{x}$, $\drp{f}{x}$ eccetera.
Sia $1\le p<+\infty$ e $\Omega\in\R^n$ aperto.
Lo spazio delle funzioni in $\leb[p]{\Omega}$ che possiedono una derivata debole $(v_1,\dotsc,v_n)\in\leb[p]{\Omega}^n$, ossia tali per cui la funzione e tutte le sue derivate prime parziali sono in $\leb[p]{\Omega}$, è detto \emph{spazio di Sobolev $1,p$} ed è indicato con $\sobW[1,p]{\Omega}$.
In esso possiamo definire una norma come
\begin{equation}
    \norm{u}_{1,p}\defeq\biggl(\norm{u}_p^p+\sum_{i=1}^n\norm[\bigg]{\drp{u}{x_i}}_p^p\biggr)^{1/p}.
    \label{eq:norma-W1p}
\end{equation}
Questi spazi si generalizzano poi per le derivate di ordine superiore: lo \emph{spazio di Sobolev} $k,p$, indicato con $\sobW[k,p]{\Omega}$, è lo spazio delle funzioni $u\in\leb[p]{\Omega}$ le cui derivate deboli $D^\alpha u$ per ogni $\alpha$ tale che $\abs{\alpha}\le k$ sono ancora in $\leb[p]{\Omega}$.
Alternativamente si può definire induttivamente come
\begin{equation}
    \sobW[k,p]{\Omega}=\biggl\{u\in\sobW[k-1,p]{\Omega}\colon \drp{u}{x_i}\in\sobW[k-1,p]{\Omega}\biggr\}.
\end{equation}
In questi spazi si può definire la norma
\begin{equation}
    \norm{u}_{k,p}\defeq\sum_{\abs{\alpha}\le k}\norm{D^\alpha u}_p.
    \label{eq:norma-Wkp}
\end{equation}
\begin{proprieta}
    Lo spazio $\sobW[1,p]{\Omega}$ ha le seguenti proprietà:
    \begin{itemize}
        \item è uno spazio di Banach per $1\le p<+\infty$ (e si può estendere anche per $p=+\infty$);
        \item è riflessivo per $1<p<+\infty$;
        \item è separabile per $1\le p<+\infty$.
    \end{itemize}
\end{proprieta}
\begin{proof}
    La dimostrazione si basa sulle proprietà analoghe degli spazi $\lclass[p]$ già viste.
    \begin{itemize}
        \item Sia $\{u_n\}_{n\in\N}\subset\sobW[1,p]{\Omega}$ una successione di Cauchy: allora scelto arbitrariamente $\epsilon>0$ esiste $\bar{n}\in\N$ tale che per ogni $n,m>\bar{n}$ si ha
            \begin{equation}
                \norm{u_n-u_m}_p^p+\sum_{i=1}^n\norm[\bigg]{\drp{u_n}{x_i}-\drp{u_m}{x_i}}_p^p<\epsilon
            \end{equation}
            Questo significa, dato che tutti gli addendi sono positivi, che $\epsilon$ è maggiore di ciascuno di essi, ossia la funzione $u_n$ e le sue derivate parziali formano, una per una, successioni di Cauchy; per la completezza di $\leb[p]{\Omega}$ ciò significa che esistono $u,g_i$ con $i\in\{1,\dotsc,n\}$ tali che $u_n\to u$ e $\drp{u_n}{x_i}\to g_i$.
            Allo stesso tempo, dalla definizione di derivata debole, $\forall\phi\in\contsc[\infty]{\Omega}$
            \begin{equation}
                \int_\Omega u_n\drp{\phi}{x_i}\,\dd\mu=-\int_\Omega\phi\drp{u_n}{x_i}\,\dd\mu
            \end{equation}
            perciò prendendo il limite per $n\to +\infty$ si ottiene
            \begin{equation}
                \int_\Omega u\drp{\phi}{x_i}\,\dd\mu=-\int_\Omega \phi g_i\,\dd\mu
            \end{equation}
            che mostra che $(g_1,\dotsc,g_n)$ è la derivata debole di $u$.
        \item Sappiamo che $\leb[p]{\Omega}$ è riflessivo se $p\in(1,+\infty)$: sia $E\defeq\leb[p]{\Omega}^{n+1}$ (anch'esso è ovviamente riflessivo) e definiamo la mappa $T\colon\sobW[1,p]{\Omega}\to E$ data da $u\mapsto(u,\grad u)$.
            Essa è un'ovvia isometria rispetto alla norma $\norm{u}_{1,p}\defeq\norm{u}_p+\norm{\grad u}_p$, dato che la definizione di norma rimane proprio uguale, e poich\'e si dimostra che $T(\sobW[1,p]{\Omega})\subset E$ si ha che $\sobW[1,p]{\Omega}$ è riflessivo.
            \footnote{La norma qui definita è \emph{equivalente} alla precedente: due norme $f$ e $g$ su uno spazio $X$ sono equivalenti se esistono $c_1,c_2>0$ tali che per ogni $x\in X$ si ha $c_1f(x)\le g(x)\le c_2 f(x)$.}
            \footnote{Abbreviamo con $\norm{\grad u}_p$ la quantità
            \begin{equation}
                \norm[\big]{\bigl(\norm{\grad u}\bigr)}_p=\Bigl(\int_\Omega\Bigl[\sum_{i=1}^n\Bigl(\drp{u}{x_i}\Bigr)^2\Bigr]^{p/2}\,\dd\mu\Bigr)^{1/p}
            \end{equation}}
        \item Come prima, siccome $E$ è separabile e $T(\sobW[1,p]{\Omega})\subset E$ allora è separabile anche $\sobW[1,p]{\Omega}$.\qedhere
    \end{itemize}
\end{proof}
Gli stessi risultati valgono anche, con le medesime condizioni su $p$, per gli spazi $\sobW[k,p]{\Omega}$.

Nel caso di $p=2$, abbiamo visto che lo spazio $\lclass[2]$ è uno spazio di Hilbert: per il corrispondente spazio di Sobolev, la norma \eqref{eq:norma-funzionale} può essere fatta discendere dal prodotto interno
\begin{equation}
    \inner{f}{g}_{k,2}\defeq
    \sum_{\abs{\alpha}\le k}\int_\Omega D^\alpha fD^\alpha g\,\dd\mu
    \label{eq:prodotto-interno-Wk2}
\end{equation}
da cui $\norm{f}_{k,2}=\sqrt{\inner{f}{f}_{k,2}}$; per $k=1$ si ha in particolare
\begin{equation}
    \inner{f}{g}_{1,2}\defeq
    \int_\Omega (fg+\scalar{\grad f}{\grad g})\,\dd\mu.
    \label{eq:prodotto-interno-W12}
\end{equation}
Con ciò anche lo spazio $\sobW[k,2]{\Omega}$ è uno spazio di Hilbert: per questo fatto questi spazi sono denotati anche come $\sobH[k]{\Omega}$, sottintendendo $p=2$.

Diamo ora uno sguardo alle funzioni a valori in uno spazio di Banach $X$.
Lo spazio di Sobolev $\sobW[1,p]{0,T;X}$ è definito come lo spazio vettoriale delle funzioni $u\in\leb[p]{0,T;X}$ per le quali esiste la derivata debole $\drp{u}{t}$ ed essa appartiene a $\leb[p]{0,T;X}$.
Con la norma
\begin{equation}
    \norm{u}_{\sobW[1,p]{0,T;X}}\defeq\biggl[\int_0^T\biggl(\norm{u}_X^p+\norm[\bigg]{\drp{u}{t}}_X^p\biggr)\,\dd t\biggr]^\frac1{p}
    \label{eq:norma-sobolev-banach}
\end{equation}
tale insieme è uno spazio di Banach.
\begin{teorema}
    Sia $X$ uno spazio di Banach, $T>0$, e $u\in\sobW[1,p]{0,T;X}$ con $p\in[1,+\infty)$: allora
    \begin{itemize}
        \item esiste $\bar{u}\in\sobW[1,p]{0,T;X}\cap\cont{0,T;X}$ tale che $\bar{u}=u$ quasi ovunque;
        \item per $0\le s\le t\le T$ si ha
            \begin{equation}
                u(t)=u(s)+\int_s^t\drp{u}{t}(t)\,\dd t
            \end{equation}
            cioè vale il teorema fondamentale del calcolo integrale (in altre parole, $u$ è detta \emph{assolutamente continua});
        \item per un $c>0$ vale
            \begin{equation}
                \sup_{t\in[0,T]}\norm{u(t)}_X\le c\norm{u}_{\sobW[1,p]{0,T;X}}.
            \end{equation}
    \end{itemize}
\end{teorema}
Si veda \cite[cap.~6A]{pde:hunter} per le dimostrazioni di questi punti.

\section{Teoremi di immersione}
È evidente dalla definizione che $\sobW[k,p]{\Omega}\subset\leb[p]{\Omega}$ per $k\ge 1$ e $\sobW[0,p]{\Omega}=\leb[p]{\Omega}$.
In questo capitolo vediamo come sia invece possibile trovare delle inclusioni (o immersioni) tra spazi di Sobolev di ordini differenti, e come queste immersioni possono essere continue o compatte.
Prima, ecco alcune definizioni.
\begin{definizione} \label{d:bordo-regolare}
    Sia $\Omega\subset\R^n$ aperto.
    Il suo bordo $\boundary\Omega$ è detto di classe $\cclass[k]$ ($k\ge 1$) se per ogni punto $\vec p\in\boundary\Omega$ esistono degli intorni $U\defeq B_r(\vec p)$ e $B_\delta(\vec 0)$ in $\R^n$ e un diffeomorfismo $\Phi\colon U\to B_\delta(\vec 0)$ di classe $\cclass[k]$ tale che $\Phi\colon U\cap\boundary\Omega\to B_\delta(\vec 0)\cap\R^{n-1}\times\{0\}$; in altre parole $\Phi$, ristretto al bordo di $\Omega$, lo mappa in ``$\R^n$ meno una coordinata'', cioè raddrizzandolo in un iperpiano di $\R^n$.
    Diciamo inoltre che $\boundary\Omega$ è \emph{lipschitziano} se lo è $\Phi$.
\end{definizione}
Ricordiamo ora che, se $A$ è un sottoinsieme di $B$, la mappa da $A$ a $B$ che porta ogni elemento $x\in A$ in s\'e stesso visto come elemento di $B$ è detta \emph{inclusione}.
\begin{definizione} \label{d:immersione-continua}
    Siano $X$ e $Y$ due spazi normati, con $X\subseteq Y$.
    Lo spazio $X$ si dice \emph{immerso con continuità} in $Y$, e si indica con $X\emb Y$, se la mappa di inclusione $\iota\colon X\to Y$ è continua, ossia esiste $c>0$ tale per cui $\norm{\iota(x)}_Y\le c\norm{x}_X$ per ogni $x\in X$.
\end{definizione}
\begin{definizione} \label{d:insieme-relativamente-compatto}
    Sia $X$ uno spazio di Banach.
    Un sottoinsieme $K\subset X$ è detto \emph{relativamente compatto} se la sua chiusura è compatta in $X$.
\end{definizione}
\begin{definizione} \label{d:immersione-compatta}
    Siano $X$ e $Y$ due spazi di Banach, con $X\subseteq Y$.
    Lo spazio $X$ si dice \emph{immerso con compattezza} in $Y$, e si indica con $X\cemb Y$, se $X\emb Y$ e ogni insieme limitato in $X$ è relativamente compatto in $Y$.
\end{definizione}
Se $X\cemb Y$, per ogni insieme limitato di $X$ esiste una successione tale da possedere una sottosuccessione di Cauchy in $Y$.
Si dice anche che la mappa di inclusione (continua e lineare) $\iota\colon X\to Y$ è un \emph{operatore compatto} tra $X$ e $Y$.
\begin{teorema} \label{t:relativamente-compatto-sse-totalmente-limitato}
    Dato uno spazio $X$ di Banach, un suo sottoinsieme $K$ è relativamente compatto se e solo se $\forall\delta>0$ esiste $n=n(\delta)\in\N$ e un insieme di punti $\{a_1,\dotsc,a_n\}\in X$ tale che $\bigcup_{i=1}^n B_\delta(a_i)\supset K$.
\end{teorema}
In altre parole, fissato un raggio $\delta$ l'insieme $K$ può essere ricoperto con un numero finito di palle aventi tale raggio; un insieme con questa proprietà si dice anche \emph{totalmente limitato}.

A partire dalle funzioni liscie a supporto compatto, definiamo lo spazio $\sobWc[k,p]{\Omega}$ come la chiusura di $\contsc[\infty]{\Omega}$, rispetto alla $k,p$-norma: esso è completo per definizione e di conseguenza è uno spazio di Banach.
\begin{teorema}[Sobolev] \label{t:sobolev}
    Sia $\Omega\subset\R^n$ aperto, limitato e con bordo lipschitziano, e siano $k,p\in\N$ tali che $kp<n$: allora $\sobW[k,p]{\Omega}\emb\leb[q]{\Omega}$ per ogni $q$ tale che $1\le q\le\frac{np}{n-kp}$.
\end{teorema}
\begin{proof}
    Dimostriamo il teorema solo nel caso $\sobWc[1,p]{\Omega}\emb\leb[q]{\Omega}$, per cui si ha $p<n$ e $1\le q\le\frac{np}{n-p}$.
    Dobbiamo mostrare che esiste una costante $c$, dipendente al più da $n$, $p$, e $\Omega$ tale che
    \begin{equation}
        \norm{u}_\frac{np}{n-p}\le c(\norm{u}_p+\norm{\grad u}_p).
        \label{eq:dim-sobolev-obiettivo}
    \end{equation}
    Sia $u\in\contsc[1]{\Omega}$, che possiamo estendere, siccome $\supp u\subset\Omega$, a tutto $\R^n$ ponendo $u=0$ in $\R^n\setminus\Omega$.
    Dato che si ha dalla definizione di $u$ che $\lim_{\norm{\vec x}\to+\infty}u(\vec x)=0$ (e in particolare per ciascuna $x_i\to+\infty$), per il teorema fondamentale del calcolo integrale possiamo scrivere per $i\in\{1,\dotsc,n\}$
    \begin{equation}
        u(\vec x)=\int_{-\infty}^{x_i}\drp{u}{x_i}(x_1,\dotsc,x_{i-1},\xi,x_{i+1},\dotsc,x_n)\,\dd\xi.
    \end{equation}
    Allora troviamo
    \begin{equation}
        \begin{split}
            \abs{u(\vec x)}^\frac1{n-1}&=
            \abs[\bigg]{\int_{-\infty}^{x_i}\drp{u}{x_i}(x_1,\dotsc,x_{i-1},\xi,x_{i+1},\dotsc,x_n)\,\dd\xi}^\frac1{n-1}\le\\ &\le
            \biggl[\int_{-\infty}^{x_i}\abs[\bigg]{\drp{u}{x_i}(x_1,\dotsc,x_{i-1},\xi,x_{i+1},\dotsc,x_n)}\,\dd\xi\biggr]^\frac1{n-1}\le\\ &\le
            \biggl[\int_\R\abs[\bigg]{\drp{u}{x_i}(x_1,\dotsc,x_{i-1},\xi,x_{i+1},\dotsc,x_n)}\,\dd\xi\biggr]^\frac1{n-1}
        \end{split}
    \end{equation}
    e considerando tutte le $n$ variabili
    \begin{equation}
        \abs{u(\vec x)}^\frac{n}{n-1}\le
        \prod_{i=1}^n\biggl[\int_\R\abs[\bigg]{\drp{u}{x_i}(x_1,\dotsc,x_{i-1},\xi,x_{i+1},\dotsc,x_n)}\,\dd\xi\biggr]^\frac1{n-1}.
    \end{equation}
    Integrando in $x_1$ otteniamo
    \begin{equation}
        \int_\R\abs{u}^\frac{n}{n-1}\,\dd x_1\le
        \biggl(\int_\R\abs[\bigg]{\drp{u}{x_1}}\,\dd x_1\biggr)^\frac1{n-1}
        \int_\R\biggl[
            \biggl(\int_\R\abs[\bigg]{\drp{u}{x_2}}\,\dd x_2\biggr)^\frac1{n-1}
            \dotsm
            \biggl(\int_\R\abs[\bigg]{\drp{u}{x_n}}\,\dd x_n\biggr)^\frac1{n-1}
        \biggr]\,\dd x_1.
    \end{equation}
    Usando iterativamente la disuguaglianza di Hölder (per $p_1,\dotsc,p_{n-1}$ tali che $\frac1{p_1}+\dotsb+\frac1{p_{n-1}}=1$) su tutti gli $n-1$ fattori contenuti nel secondo integrale si ha
    \begin{equation}
        \int_\R\abs{u}^\frac{n}{n-1}\,\dd x_1\le
        \biggl(\int_\R\abs[\bigg]{\drp{u}{x_1}}\,\dd x_1\biggr)^\frac1{n-1}
        \biggl(\int_\R\int_\R\abs[\bigg]{\drp{u}{x_2}}\,\dd x_2\,\dd x_1\biggr)^\frac1{n-1}
        \dotsm
        \biggl(\int_\R\int_\R\abs[\bigg]{\drp{u}{x_n}}\,\dd x_n\,\dd x_1\biggr)^\frac1{n-1}.
    \end{equation}
    usando $p_1=\dotsb=p_{n-1}=\frac1{n-1}$.
    Continuando in questo modo e integrando sulle restanti variabili, allora,
    \begin{equation}
        \int_\R\dotsi\int_\R\abs{u}^\frac{n}{n-1}\,\dd x_1\dotsm\dd x_n\le
        \prod_{i=1}^n\biggl(\int_\R\dotsi\int_\R\abs[\bigg]{\drp{u}{x_i}}\,\dd x_1\dotsm\dd x_n\biggr)^\frac1{n-1}
    \end{equation}
    ma dato che $\supp u\subset\Omega$ questo è equivalente a dire
    \begin{equation}
        \int_\Omega\abs{u}^\frac{n}{n-1}\,\dd\mu\le
        \prod_{i=1}^n\biggl(\int_\Omega\abs[\bigg]{\drp{u}{x_i}}\,\dd\mu\biggr)^\frac1{n-1}
    \end{equation}
    da cui ricaviamo, elevando i membri alla $\frac{n-1}{n}$,
    \begin{multline}
        \norm{u}_\frac{n}{n-1}\le
        \biggl[\prod_{i=1}^n\biggl(\int_\Omega\abs[\bigg]{\drp{u}{x_i}}\,\dd\mu\biggr)^\frac1{n-1}\biggr]^\frac{n-1}{n}=
        \biggl[\prod_{i=1}^n\biggl(\int_\Omega\abs[\bigg]{\drp{u}{x_i}}\,\dd\mu\biggr)\biggr]^\frac1{n}\le\\ \le
        \frac1{n}\sum_{i=1}^n\int_\Omega\abs[\bigg]{\drp{u}{x_i}}\,\dd\mu=
        \frac1{n}\int_\Omega\sum_{i=1}^n\abs[\bigg]{\drp{u}{x_i}}\,\dd\mu=
        \frac1{n}\norm{\grad u}_1,
    \end{multline}
    dato che la media geometrica di un insieme di quantità non negative non è mai maggiore della rispettiva media aritmetica.

    Ora sostituiamo $u$ con la funzione $\abs{u}^\gamma$, con $\gamma>0$, nella disuguaglianza appena trovata:
    \begin{equation}
        \norm{\abs{u}^\gamma}_\frac{n}{n-1}\le
        \frac1{n}\int_\Omega\norm[\big]{\grad\big(\abs{u}^\gamma)}\,\dd\mu\le
        \frac{\gamma}{n}\int_\Omega\abs{u}^{\gamma-1}\norm{\grad u}\,\dd\mu
    \end{equation}
    perciò dalla disuguaglianza di Hölder abbiamo
    \begin{equation}
        \norm{\abs{u}^\gamma}_\frac{n}{n-1}\le
        \frac{\gamma}{n}\norm[\big]{\abs{u}^{\gamma-1}}_\frac{p}{p-1}\norm{\grad u}_p.
    \end{equation}
    Infine,
    \begin{equation}
        \norm{u}_{\gamma\frac{n}{n-1}}^\gamma\le
        \frac{\gamma}{n}\norm{u}^{\gamma-1}_{(\gamma-1)\frac{p}{p-1}}\norm{\grad u}_p
    \end{equation}
    e per individuare il valore di $\gamma$ imponiamo che le due norme di $u$ siano sul medesimo spazio, in modo che si possano semplificare, ossia che
    \begin{equation}
        \gamma\frac{n}{n-1}=(\gamma-1)\frac{p}{p-1}
        \qqq
        \gamma=\frac{(n-1)p}{n-p}.
    \end{equation}
    Inserendo questo valore nella disuguaglianza, dato che $\gamma\frac{n}{n-1}=\frac{np}{n-p}$, risulta allora
    \begin{equation}
        \norm{u}_\frac{np}{n-p}\le\frac{\gamma}{n}\norm{\grad u}_p
    \end{equation}
    da cui segue in modo ovvio la \eqref{eq:dim-sobolev-obiettivo} con $c=\frac{\gamma}{n}$.
\end{proof}
Ad esempio, per $\Omega\subset\R^3$ abbiamo con $k=1$ e $p=2$ che il massimo valore che $q$ può assumere è $6$, perciò $\sobW[1,2]{\Omega}\emb\leb[q]{\Omega}$ per $q=1,\dotsc,6$, dato che siccome $\mu(\Omega)<+\infty$ si ha $\leb[q]{\Omega}\subset\leb[q']{\Omega}$ se $1\le q'<q<+\infty$.
L'immersione data in questo teorema è ottimale, nel senso che non è possibile immergere con continuità lo spazio di Sobolev in spazi più grandi.
Per vedere da dove deriva il valore critico $\frac{np}{n-kp}$ per $q$ possiamo prendere il seguente ragionamento.
Consideriamo $f\in\sobW[1,p]{\R^n}\cap\leb[q]{\R^n}$, ed effettuiamo un riscalamento definendo $f_\lambda(\vec y)\defeq f(\vec y/\lambda)=f(\vec x)$ per $\lambda>0$.
Risulta
\begin{multline}
    \biggl(\int_{\R^n}\norm{\grad f_\lambda(\vec y)}^p\,\dd\mu(\vec y)\biggr)^\frac1{p}=
    \biggl(\int_{\R^n}\frac1{\lambda^p}\norm{\grad f(\vec y/\lambda)}^p\,\dd\mu(\vec y)\biggr)^\frac1{p}=\\=
    \biggl(\int_{\R^n}\frac1{\lambda^p}\norm{\grad f(\vec x)}^p\lambda^n\,\dd\mu(\vec x)\biggr)^\frac1{p}=
    \lambda^\frac{n-p}{p}\biggl(\int_{\R^n}\norm{\grad f(\vec x)}^p\,\dd\mu(\vec x)\biggr)^\frac1{p}
\end{multline}
e con la $q$-norma abbiamo invece
\begin{equation}
    \biggl(\int_{\R^n}\abs{f_\lambda(\vec y)}^q\,\dd\mu(\vec y)\biggr)^\frac1{q}=
    \lambda^\frac{n}{q}\biggl(\int_{\R^n}\abs{f(\vec x)}^q\,\dd\mu(\vec x)\biggr)^\frac1{q}
\end{equation}
di conseguenza $\lambda^\frac{n}{q}\norm{f}_q\le c\lambda^{\frac{n}{p}-1}\norm{\grad f}_p$, e se vogliamo che la costante che limita le norme (rendendo cos\`i continua l'inclusione) non dipenda da $\lambda$, cioè sia indipendente dalla funzione, allora dobbiamo prendere $\frac{n}{q}=\frac{n}{p}-1$ vale a dire $q=\frac{np}{n-p}$, che è l'esponente critico del teorema per $k=1$.

Introduciamo ora un altro spazio di funzioni, le funzioni Hölder-continue, e vediamo come includere gli spazi di Sobolev in essi.
\begin{definizione} \label{d:continuita-holder}
    Una funzione $f\colon\Omega\subset\R^n\to\R$ si dice \emph{Hölder-continua} di ordine $\alpha\in(0,1]$ se esiste $c>0$ tale per cui per ogni $\vec x,\vec y\in\Omega$  con $\vec x\ne\vec y$ si ha
    \begin{equation}
        \abs{f(\vec x)-f(\vec y)}\le c\norm{\vec x-\vec y}^\alpha.
    \end{equation}
\end{definizione}
Tutte le funzioni di questo tipo, per ogni $\alpha\in(0,1]$, sono anche continue; se $\alpha=1$ la definizione è equivalente a quella di lipschitzianità.
Un esempio veloce: la funzione $x\mapsto\sqrt{x}$ è Hölder-continua di ordine $\frac12$.
Definiamo inoltre la quantità
\begin{equation}
    [f]_\alpha\defeq\sup_{\substack{\vec x,\vec y\in\Omega\\\vec x\ne\vec y}}\frac{\abs{f(\vec x)-f(\vec y)}}{\norm{\vec x-\vec y}^\alpha}
    \label{eq:seminorma-holder}
\end{equation}
che è finita se $f$ è Hölder-continua di ordine $\alpha$.
A questo punto consideriamo lo spazio delle funzioni $f\in\cont[k]{\Omega}$ tali che le derivate $D^\alpha f$ con $\abs{\alpha}=k$ sono Hölder-continue di ordine $\beta\in(0,1]$: esso è indicato come $\cont[k,\beta]{\Omega}$, ed è uno spazio di Banach dotato della norma
\begin{equation}
    \norm{f}_{\cont[k,\beta]{\Omega}}\defeq\sum_{\abs{\gamma}\le k}\norm{D^\gamma f}_\infty+\sum_{\abs{\alpha}=k}[D^\alpha f]_\beta.
    \label{eq:norma-spazio-holder}
\end{equation}
Per $k=0$ si ha lo spazio delle funzioni Hölder-continue di ordine $\beta$ come definite nella \ref{d:continuita-holder}.
Questi spazi sono importanti per determinare la regolarità in senso classico delle funzioni in $\sobW[k,p]{\Omega}$, in modo che da una funzione definita quasi ovunque si possa tornare a una funzione classica, continua e regolare.

\begin{teorema}[Morrey] \label{t:morrey}
    Sia $\Omega\subset\R^n$ aperto, limitato e con bordo lipschitziano, e siano $k,p\in\N$ tali che $kp>n$: si ha $\sobW[k,p]{\Omega}\emb\cont[m,\alpha]{\Omega}$ per $m\in\N_0$ tale che $m<k-\frac{n}{p}<m+1$ e $0\le\alpha\le k-m-\frac{n}{p}$.
    L'immersione è inoltre compatta se $\alpha<k-m-\frac{n}{p}$.
\end{teorema}
\begin{proof}
    Come per il teorema di Sobolev, anche in questo caso dimostriamo solo il caso $k=1$ (da cui necessariamente $m=0$), e prendiamo $\Omega=\R^n$, ossia dimostriamo la tesi $\sobW[1,p]{\R^n}\emb\cont[0,\alpha]{\R^n}$ provando che esiste $c>0$ tale che $\norm{u}_{\cont[0,\alpha]{\R^n}}\le c\norm{u}_{1,p}$ con $p>n$ e $\alpha=1-\frac{n}{p}$, per ogni $u\in\cont[1]{\R^n}$.
    Omettiamo inoltre la seconda parte della dimostrazione, ossia dimostriamo solo che l'inclusione è continua.

    Sia $r>0$ e consideriamo la palla $B_r(\vec x)\subset\R^n$: mostriamo innanzitutto che
    \begin{equation}
        \avint_{B_r(\vec x)}\abs{u(\vec x)-u(\vec y)}\,\dd\mu(\vec y)\le c\int_{B_r(\vec x)}\frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y).
        \label{eq:dim-morrey-obiettivo}
    \end{equation}
    Sia $\vec w\in\R^n$ di norma unitaria, e $0<s<r$: allora
    \begin{equation}
        u(\vec x+s\vec w)-u(\vec x)=
        \int_0^s\drv{u}{t}(\vec x+t\vec w)\,\dd t=
        \int_0^s\scalar{\vec w}{\grad u(\vec x+t\vec w)}\,\dd t.
    \end{equation}
    In valore assoluto,
    \begin{equation}
        \abs{u(\vec x+s\vec w)-u(\vec x)}\le
        \int_0^s\abs{\scalar{\vec w}{\grad u(\vec x+t\vec w)}}\,\dd t\le
        \int_0^s\norm{\grad u(\vec x+t\vec w)}\,\dd t.
    \end{equation}
    Integriamo i due membri sul bordo della palla unitaria ottenendo
    \begin{equation}
        \int_{\boundary B_1(\vec 0)} \abs{u(\vec x+s\vec w)-u(\vec x)}\,\dd\sigma(\vec x)\le
        \int_{\boundary B_1(\vec 0)}\int_0^s \norm{\grad u(\vec x+t\vec w)}\,\dd t\,\dd\sigma(\vec x).
    \end{equation}
    Nel secondo integrale, cambiamo le variabili di integrazione ponendo $\vec y\defeq\vec x+t\vec w$ (da cui $t=\norm{\vec y-\vec x}$): $\vec y$ varia in una palla centrata in $\vec x$ il cui raggio $t$ varia da $0$ a $s$, quindi passando alle coordinate polari in $\vec y$
    \begin{multline}
        \int_{\boundary B_1(\vec 0)}\int_0^s \norm{\grad u(\vec x+t\vec w)}\,\dd t\,\dd\sigma(\vec x)=
        \int_{\boundary B_1(\vec 0)}\int_0^s \frac{t^{n-1}}{t^{n-1}}\norm{\grad u(\vec x+t\vec w)}\,\dd t\,\dd\sigma(\vec x)=\\=
        \int_{B_s(\vec x)} \frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y)\le
        \int_{B_r(\vec x)} \frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y).
    \end{multline}
    Abbiamo dunque la disuguaglianza 
    \begin{equation}
        \int_{\boundary B_1(\vec 0)} \abs{u(\vec x+s\vec w)-u(\vec x)}\,\dd\sigma(\vec x)\le
        \int_{B_r(\vec x)} \frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y):
    \end{equation}
    Moltiplicando entrambi i membri per $s^{n-1}$ e integrando in $s\in(0,r)$ otteniamo, effettuando il cambio di variabile $\vec y=\vec x+s\vec w$ nel primo membro,
    \begin{multline}
        \int_{B_r(\vec 0)}\abs{u(\vec y)-u(\vec x)}\,\dd\mu(\vec y)\le
        \frac{r^n}{n}\int_{B_r(\vec x)}\frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y)=\\=
        \frac{r^n\omega_n}{n\omega_n}\int_{B_r(\vec x)}\frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y)=
        \frac{r^n\omega_n}{n}\avint_{B_r(\vec x)}\frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y),
    \end{multline}
    che dimostra la \eqref{eq:dim-morrey-obiettivo} con $\frac{r^n\omega_n}{n}$ come costante.

    Per $\vec x\in\R^n$ risulta
    \begin{equation}
        \begin{split}
            \abs{u(\vec x)}&=
            \abs[\bigg]{u(\vec x)\avint_{B_1(\vec x)} \,\dd\mu(\vec y)}=\\ &=
            \abs[\bigg]{\avint_{B_1(\vec x)} u(\vec x)\,\dd\mu(\vec y)}\le\\ &\le
            \avint_{B_1(\vec x)}\bigl[\abs{u(\vec x)-u(\vec y)}+\abs{u(\vec y)}\bigr]\,\dd\mu(\vec y)=\\ &=
            \avint_{B_1(\vec x)}\abs{u(\vec x)-u(\vec y)}\,\dd\mu(\vec y)+\frac1{\mu\bigl(B_1(\vec x)\bigr)}\int_{B_1(\vec x)}\abs{u(\vec y)}\,\dd\mu(\vec y).
        \end{split}
    \end{equation}
    Per l'ultimo integrale abbiamo
    \begin{equation}
        \int_{B_1(\vec x)}\abs{u}\,\dd\mu\le
        \mu\bigl(B_1(\vec x)\bigr)^{1-\frac1{p}}\norm{u}_{\leb[p]{B_1(\vec x)}}=
        \mu\bigl(B_1(\vec x)\bigr)^{1-\frac1{p}}\norm{u}_{\leb[p]{\R^n}}
    \end{equation}
    estendendo $u$ ponendola uguale a zero su $\R^n\setminus B_1(\vec x)$.
    Per il primo invece usiamo la \eqref{eq:dim-morrey-obiettivo}; otteniamo
    \begin{equation}
        \abs{u(\vec x)}\le c\avint_{B_1(\vec x)} \frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y)+c'\norm{u}_{\leb[p]{B_1(\vec x)}}
    \end{equation}
    usando $c$ e $c'$ per le costanti (positive)
    Per la disuguaglianza di Hölder
    \begin{equation}
        \int_{B_1(\vec x)} \frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y)\le
        \biggl(\int_{\R^n}\norm{\grad u(\vec y)}^p\,\dd\mu(\vec y)\biggr)^\frac1{p}\biggl(\int_{B_1(\vec x)}\frac1{\norm{\vec x-\vec y}^{(n-1)\frac{p}{p-1}}}\,\dd\mu(\vec y)\biggr)^\frac{p-1}{p}:
    \end{equation}
    il primo fattore è $\norm{\grad u}_{\leb[p]{\R^n}}$, mentre per il secondo effettuiamo il cambio di variabile $r\defeq\norm{\vec x-\vec y}$ (che varia tra $0$ e $1$), e data la simmetria sferica della funzione integranda (attorno al punto $\vec x$) possiamo separare l'integrale radiale in $(0,1)$ da quello angolare su $\boundary B_1(\vec 0)$, vale a dire
    \begin{multline}
        \biggl(\int_{B_1(\vec x)}\frac1{\norm{\vec x-\vec y}^{(n-1)\frac{p}{p-1}}}\,\dd\mu(\vec y)\biggr)^\frac{p-1}{p}=
        \biggl(\int_{\boundary B_1(\vec 0)}\int_0^1 \frac1{r^{(n-1)\frac{p}{p-1}}}r^{n-1}\,\dd r\,\dd\sigma\biggr)^\frac{p-1}{p}=\\=
        \biggl(\int_{\boundary B_1(\vec 0)}\dd\sigma\int_0^1 r^{(n-1)(1-\frac{p}{p-1})}\,\dd r\biggr)^\frac{p-1}{p}.
    \end{multline}
    L'integrale radiale converge se $(n-1)(1-\frac{p}{p-1})>-1$, che è vera per $p>n$, e in tal caso chiamiamo $c''$ il suo valore.
    Risulta allora
    \begin{equation}
        \int_{B_1(\vec x)} \frac{\norm{\grad u(\vec y)}}{\norm{\vec x-\vec y}^{n-1}}\,\dd\mu(\vec y)\le
        c''\norm{\grad u}_{\leb[p]{\R^n}}
    \end{equation}
    da cui, scelto $C\defeq\max\{cc'',c'\}$,
    \begin{equation}
        \abs{u(\vec x)}\le
        cc''\norm{\grad u}_{\leb[p]{\R^n}}+c'\norm{u}_{\leb[p]{\R^n}}\le
        C(\norm{\grad u}_{\leb[p]{\R^n}}+\norm{u}_{\leb[p]{\R^n}})\le
        C\norm{u}_{\sobW[1,p]{\R^n}}
    \end{equation}
    perciò $\sup_{\R^n}\abs{u}\le C\norm{u}_{\sobW[1,p]{\R^n}}$.
    % Questo risultato apparentemente non serve a niente.

    Siano ora $\vec x,\vec y\in\R^n$, $r\defeq\norm{\vec x-\vec y}$ come prima e chiamiamo $W\defeq B_r(\vec x)\cap B_r(\vec y)$.
    Moltiplicando per $\avint_W\,\dd\mu(\vec z)=1$ e sfruttando la disuguaglianza triangolare risulta
    \begin{equation}
        \abs{u(\vec x)-u(\vec y)}=
        \avint_W \abs{u(\vec x)-u(\vec y)}\,\dd\mu(\vec z)\le
        \avint_W \abs{u(\vec x)-u(\vec z)}\,\dd\mu(\vec z)+\avint_W \abs{u(\vec y)-u(\vec z)}\,\dd\mu(\vec z).
    \end{equation}
    Siccome $W\subset B_r(\vec x)$ si ha, per il primo addendo (e per il secondo è analogo)
    \begin{equation}
        \avint_W \abs{u(\vec x)-u(\vec z)}\,\dd\mu(\vec z)\le
        \frac1{\mu(W)}\int_{B_r(\vec x)}\abs{u(\vec x)-u(\vec z)}\,\dd\mu(\vec z)=
        \frac{\mu\bigl(B_r(\vec x)\bigr)}{\mu(W)}\avint_{B_r(\vec x)}\abs{u(\vec x)-u(\vec z)}\,\dd\mu(\vec z).
    \end{equation}
    Con la \eqref{eq:dim-morrey-obiettivo} e la disuguaglianza di Hölder, come in precedenza, questo è a sua volta minore o uguale (sempre se $p>n$ in modo che l'integrale converga) a
    \begin{multline}
        c\biggl(\int_{B_r(\vec x)}\norm{\grad u}^p\,\dd\mu\biggr)^\frac1{p}\biggl(\int_{B_r(\vec x)}\frac1{\norm{\vec x-\vec z}^{(n-1)\frac{p}{p-1}}}\,\dd\mu(\vec z)\biggr)^\frac{p-1}{p}= \\=
        c\norm{\grad u}_{\leb[p]{\R^n}}\biggl(n\omega_n\int_0^r s^{(n-1)(1-\frac{p}{p-1})}\,\dd s\biggr)^\frac{p-1}{p}=
        \tilde{c}\norm{\grad u}_{\leb[p]{\R^n}}(r^{n-(n-1)\frac{p}{p-1}})^\frac{p-1}{p}=
        \tilde{c}\norm{\grad u}_{\leb[p]{\R^n}}r^{1-\frac{n}{p}}
    \end{multline}
    per $\tilde{c}>0$.
    La stessa stima vale per l'addendo con $\vec y$ al posto di $\vec x$, perciò
    \begin{equation}
        \abs{u(\vec x)-u(\vec y)}\le 2\tilde{c}r^{1-\frac{n}{p}}\norm{\grad u}_{\leb[p]{\R^n}}.
    \end{equation}
    Dividendo per $r^{1-\frac{n}{p}}=\norm{\vec x-\vec y}^{1-\frac{n}{p}}$, quando $\vec x\ne\vec y$, otteniamo dunque che
    \begin{equation}
        \frac{\abs{u(\vec x)-u(\vec y)}}{\norm{\vec x-\vec y}^{1-\frac{n}{p}}}\le\tilde{c}\norm{\grad u}_{\leb[p]{\R^n}}
    \end{equation}
    e prendendone l'estremo superiore
    \begin{equation}
        [u]_{1-\frac{n}{p}}=\norm{u}_{\cont[0,1-\frac{n}{p}]{\R^n}}\le\tilde{c}\norm{\grad u}_{\leb[p]{\R^n}}
    \end{equation}
    che prova che $\sobW[1,p]{\R^n}\emb\cont[0,1-\frac{n}{p}]{\R^n}$.
\end{proof}
Ad esempio se $\Omega\subset\R^3$ lo spazio $\sobW[2,2]{\Omega}$ è incluso con continuità in $\cont[0,\frac12]{\Omega}$ poich\'e per $k=p=2$ e $n=3$ si ha $m<\frac12<m+1$ da cui $m=0$, quindi $0\le\alpha\le 2-m-\frac32=\frac12$.

Ora però abbiamo il problema che negli spazi di Sobolev gli elementi sono classi di equivalenza di funzioni, mentre negli spazi di Hölder ci sono funzioni vere e proprie.
Passiamo dall'una all'altra tramite la seguente definizione.
\begin{definizione} \label{d:versione}
    Data una funzione $u\colon A\to B$, diciamo che $\bar{u}$ è una \emph{versione} di $u$ se $u=\bar{u}$ quasi ovunque in $A$.
\end{definizione}
\begin{teorema} \label{t:versione-holder-continua}
    Sia $\Omega\subset\R^n$ aperto e $p>n$, e $u\in\sobWc[1,p]{\Omega}$.
    Allora $u$ ammette una versione $\bar{u}\in\cont[0,\gamma]{\Omega}$ per $\gamma=1-\frac{n}{p}$, tale che $\norm{\bar{u}}_{\cont[0,\gamma]{\Omega}}\le c\norm{u}_{1,p}$ per un certo $c>0$.
\end{teorema}
\begin{proof}
   Possiamo ancora estendere $\Omega$ a tutto $\R^n$ poich\'e $\supp u\subset\Omega$, ponendo $u=0$ al di fuori dell'insieme.
   La completezza dello spazio di Sobolev e la densità di $\contsc[\infty]{\Omega}$ assicurano che esiste una successione $\{u_k\}_{k\in\N}\subset\contsc[\infty]{\Omega}$ tale che $u_k\to u$, con $u\in\sobW[1,p]{\Omega}$ ma anche in $\sobW[1,p]{\R^n}$ estendendo le $u_k$ come prima.
   Anche in questo caso vale $\norm{u_k-u_l}_{\cont[0,\gamma]{\Omega}}\le\norm{u_k-u_l}_{1,p}$ quindi se $\{u_k\}$ è di Cauchy in $\sobW[1,p]{\R^n}$ allora lo è anche in $\cont[0,\gamma]{\R^n}$, ossia esiste una funzione $\bar{u}\in\cont[0,\gamma]{\R^n}$ tale per cui $u_k\to\bar{u}$.
   Ma $u_k\to u$ in $\sobW[1,p]{\R^n}$, quindi per l'unicità del limite si ha che $u=\bar{u}$ ossia $\bar{u}$ è una versione di $u$ in $\cont[0,\gamma]{\R^n}$.
   Dalla disuguaglianza $\norm{u_k}_{\cont[0,\gamma]{\R^n}}\le c\norm{u_k}_{1,p}$ infine, al limite per $k\to+\infty$, otteniamo $\norm{\bar{u}}_{\cont[0,\gamma]{\R^n}}\le c\norm{u}_{1,p}$.
\end{proof}

A questo punto rimane da valutare la compattezza dell'immersione tra spazi di Sobolev e $\lclass[p]$, dimostrata nel teorema dovuto a Rellich e Kondrachov.
Prima di affrontarlo servono ulteriori definizioni e proprietà.
\begin{definizione} \label{d:equicontinuita}
    Siano $X$ e $Y$ due spazi metrici e $\mathcal{F}$ un insieme di funzioni da $X$ a $Y$.
    L'insieme $\mathcal{F}$ è detto \emph{equicontinuo} in un punto $\bar{x}\in X$ se per ogni $\epsilon>0$ esiste $\delta>0$ tale che $d_Y\bigl(f(x),f(\bar{x})\bigr)<\epsilon$ per ogni $f\in\mathcal{F}$ e per ogni $x\in X$ tale che $d_X(x,\bar{x})<\delta$.
    L'insieme è poi equicontinuo in $X$ se è equicontinuo per ogni $x\in X$.
\end{definizione}
\begin{teorema}[Ascoli-Arzelà] \label{t:ascoli-arzela}
    Sia $E\subset\R^n$ compatto e $\{f_n\}_{n\in\N}\in\cont{E}$; se $\{f_n\}_{n\in\N}$ è equicontinua ed esiste $c>0$ tale che $\abs{f_n(\vec x)}\le c$ per ogni $\vec x\in E$ e ogni $n\in\N$ ($c$ è indipendente da $n$) allora esiste una sottosuccessione $\{f_{n_k}\}$ convergente uniformemente a una $f\in\cont{E}$, vale a dire
    \begin{equation}
        \lim_{k\to+\infty}\sup_{\vec x\in E}\abs{f_{n_k}(\vec x)-f(\vec x)}=0.
    \end{equation}
\end{teorema}
\begin{proof}
    Sia $A=\{\vec x_i\}_{i\in\N}$ un sottoinsieme denso di $E$, ad esempio $E\cap\Q^n$.
    Preso $\vec x_1$, sia $a^{(1)}_n\defeq f_n(\vec x_1)$: dato che $\abs{a^{(1)}_n}=\abs{f_n(\vec x_1)}\le c$, la successione $\{a^{(1)}_n\}_{n\in\N}$ ammette una sottosuccessione convergente, che indichiamo come $\{f_{1,1}(\vec x_1),f_{1,2}(\vec x_1),\dotsc\}$.
    Lo stesso si può dire della successione $\{f_{1,n}(\vec x_2)\}_{n\in\N}$, la quale ammette dunque una sottosuccessione convergente che indichiamo con $\{f_{2,1}(\vec x_2),f_{2,2}(\vec x_2),\dotsc\}$; anche la successione $\{f_{2,1}(\vec x_1),f_{2,2}(\vec x_1),\dotsc\}$ converge, dato che è una sottosuccessione di $\{f_{1,n}(\vec x_1)\}_{n\in\N}$.
    Continuando in questo modo abbiamo le successioni di funzioni
    \begin{equation}
        \begin{array}[h]{ll}
            f_{1,1},f_{1,2},\dotsc,f_{1,n},\dotsc & \text{che converge in }\vec x_1\\
            f_{2,1},f_{2,2},\dotsc,f_{2,n},\dotsc & \text{che converge in }\vec x_1,\vec x_2\\
            f_{3,1},f_{3,2},\dotsc,f_{3,n},\dotsc & \text{che converge in }\vec x_1,\vec x_2,\vec x_3\\
            \vdots & \\
            f_{m,1},f_{m,2},\dotsc,f_{m,n},\dotsc & \text{che converge in }\vec x_1,\dotsc,\vec x_m
        \end{array}
    \end{equation}
    e ognuna è una sottosuccessione delle precedenti.
    Se esistesse una funzione ``finale'', essa convergerebbe su tutto $A$, ma il procedimento è infinito: costruiamo dunque la successione $\{f_{k,k}\}_{k\in\N}$, con la diagonale di Cantor; otteniamo cos\`i una sottosuccessione delle precedenti, con $f_{m,m}$ convergente per tutti gli $\vec x_i$ con $1\le i\le m$; al limite per $m\to+\infty$, allora, essa converge su tutto $A$.

    Sia ora $\epsilon>0$: per l'equicontinuità della successione, per ogni $n\in\N$ $\exists\delta>0$ tale che se $\abs{\vec x-\bar{\vec x}}<\delta$ allora $\abs{f_n(\vec x)-f_n(\bar{\vec x})}<\epsilon$ per $\vec x,\bar{\vec x}\in E$.
    Sia $\{F_n\}_{n\in\N}$ la sottosuccessione ottenuta precedentemente con il metodo della diagonale: essa è convergente per ogni $\vec x_i\in A$ quindi è di Cauchy, perciò si ha che $\abs{F_n(\vec x_i)-F_m(\vec x_i)}<\epsilon$ per ogni $n,m>N$ per un opportuno $N\in\N_0$.
    Siccome poi $A$ è denso in $E$, abbiamo che $E\subset\bigcap_{i\in\N} B_{\delta}(\vec x_i)$ ossia gli intorni dei punti di $A$ ricoprono $E$; per la compattezza di $E$ da questa copertura possiamo estrarre una sottocopertura finita, quindi $\exists q\in\N$ tale che $E\subset\bigcup_{i=1}^q B_\delta(\vec x_i)$.
    Ogni punto di $E$ si troverà per forza in uno di questi intorni che compongono la sottocopertura: per ogni $\bar{\vec x}\in E$ esiste $i\in\{1,\dotsc,q\}$ tale che $\bar{\vec x}\in B_\delta(\vec x_i)$, e allora
    \begin{equation}
        \abs{F_n(\bar{\vec x})-F_m(\bar{\vec x})}\le
        \abs{F_n(\bar{\vec x})-F_n(\vec x_i)}+\abs{F_n(\vec x_i)-F_m(\vec x_i)}+\abs{F_m(\vec x_i)-F_m(\bar{\vec x})}
    \end{equation}
    e se $\bar{\vec x}\in B_\delta(\vec x_i)$ allora $\abs{\bar{\vec x}-\vec x_i}<\delta$ da cui $\abs{F_n(\bar{\vec x})-F_n(\vec x_i)}<\epsilon$ (e lo stesso per $F_m$) per l'equicontinuità della successione, mentre si ha $\abs{F_n(\vec x_i)-F_m(\vec x_i)}<\epsilon$ poich\'e $\{F_n\}_{n\in\N}$ è di Cauchy.
    In sostanza, per ogni $\epsilon>0$ abbiamo $N\in\N_0$ tale che $\forall n,m>N$ si ha, per ogni $\bar{\vec x}\in E$,
    \begin{equation}
        \abs{F_n(\bar{\vec x})-F_m(\bar{\vec x})}<3\epsilon.
    \end{equation}
    quindi $\{F_n(\bar{\vec x})\}_{n\in\N}$ è di Cauchy secondo la norma uniforme.
    Esiste dunque una funzione $F$ tale per cui $F_n\to F$ in questa norma, cioè converge uniformemente: per il teorema \ref{t:continuita_conv_uniforme} allora $F\in\cont{E}$.
\end{proof}
Più in generale, questo teorema mostra che se un insieme $A\subset\cont{E}$, con $E\subset\R^n$ compatto, è equicontinuo e l'insieme $\{f(\vec x)\colon f\in A\}$ è relativamente compatto (che nel nostro caso si traduce nella limitatezza di $\abs{f_n(\vec x)}$ per ogni $\vec x\in E$ e $n\in\N$) allora $A$ è relativamente compatto, quindi ogni successione in $A$ ammette una sottosuccessione convergente in $\cont{E}$.

Vediamo ora come ``regolarizzare'' una funzione tramite la convoluzione.
\begin{definizione} \label{d:mollificatore}
    Una funzione $\rho\in\cont[\infty]{\R^n}$ tale che $\rho\ge 0$, $\rho(\vec x)=0$ per $\vec x\notin B_1(\vec 0)$ e $\int_{\R^n}\rho\,\dd\mu=1$ è detta \emph{mollificatore}.
\end{definizione}
Ne è un esempio la funzione
\begin{equation*}
    \vec x\mapsto
    \begin{cases}
        c\exp\bigl(\frac1{\norm{\vec x}^2-1}\bigr)    & \norm{\vec x}<1 \\
        0                                             & \norm{\vec x}\ge 1
    \end{cases}
\end{equation*}
dove la costante $c$ serve da opportuna normalizzazione.
Preso un mollificatore $\rho$, usiamo la notazione $\rho_\epsilon$ per indicare il riscalamento
\begin{equation}
    \vec x\mapsto\frac1{\epsilon^n}\rho\biggl(\frac{\vec x}{\epsilon}\biggr);
\end{equation}
se $\rho=0$ al di fuori di $B_1(\vec 0)$, allora $\rho_\epsilon=0$ fuori da $B_\epsilon(\vec 0)$ e la funzione chiaramente è ancora $\cclass[\infty]$.
\begin{definizione} \label{d:regolarizzazione}
    Siano $u\in\locleb[1]{\Omega}$, $\epsilon>0$ e $\Omega_\epsilon\defeq\{\vec x\in\Omega\colon d(\vec x,\boundary\Omega)>\epsilon\}$: definiamo la \emph{regolarizzazione} di $u$ come la funzione $u_\epsilon\colon\Omega_\epsilon\to\R$ data da
    \begin{equation}
        u_\epsilon(\vec x)=
        \int_\Omega\rho_\epsilon(\vec x-\vec y)u(\vec y)\,\dd\mu(\vec y).
        \label{eq:regolarizzazione}
    \end{equation}
\end{definizione}
La mollificazione è un'operazione che in ogni $\vec x\in\Omega_\epsilon$ restituisce il valore medio di $u$ in una palla di raggio $\epsilon$ attorno a $\vec x$: siccome $\vec y$ nell'integrale varia in $\Omega$ (dove $u$ è definita: non possiamo spingergi più in là di cos\`i), la condizione $\vec x\in\Omega_\epsilon$ fa s\`i che questa palla, per ogni $\vec x$, rimanga sempre inclusa in $\Omega$.
Una definizione equivalente è infatti
\begin{equation}
    u_\epsilon(\vec x)=
    \int_{B_\epsilon(\vec 0)}\rho_\epsilon(\vec y)u(\vec x-\vec y)\,\dd\mu(\vec y).
\end{equation}
Si ha inoltre che $u_\epsilon\in\cont[\infty]{\Omega_\epsilon}$, e per ogni multiindice $\alpha$
\begin{equation}
    D_{\vec x}^\alpha u_\epsilon(\vec x)=\int_\Omega D_{\vec x}^\alpha\rho_\epsilon(\vec x-\vec y)u(\vec y)\,\dd\mu(\vec y).
\end{equation}
Se $\Omega=\R^n$ e $u\in\leb[1]{\R^n}$ allora $u_\epsilon$ non ha problemi di definizione per qualsiasi $\epsilon>0$, e $u_\epsilon\in\cont[\infty]{\R^n}$.
Infine, per $\epsilon\to 0$ i valori per cui $\rho_\epsilon\ne 0$ sono sempre meno, dato che la palla $B_\epsilon(\vec 0)$ si ``restringe'', ma allo stesso tempo $\epsilon^{-n}\to+\infty$: nel senso distribuzionale $\rho_\epsilon$ converge alla delta di Dirac $\delta_{\vec x}$, e in questo limite $u_\epsilon\to u$ quasi ovunque.
Si veda \cite[p.~630]{evans} per le dimostrazioni di questi risultati.

\begin{teorema}[Rellich-Kondrachov] \label{t:rellich-kondrachov}
    Sia $\Omega$ un sottoinsieme di $\R^n$ limitato, aperto, con bordo lipschitziano, e siano $k,p\in\N$ tali che $kp<n$: allora $\sobW[k,p]{\Omega}\cemb\leb[q]{\Omega}$ per ogni $q$ tale che $1\le q<\frac{np}{n-kp}$.
\end{teorema}
\begin{proof}
    Come nei precedenti teoremi di immersione, dimostriamo anche questo nel caso $k=1$ e per funzioni a supporto compatto.

    Consideriamo un insieme $A\subset\sobWc[1,p]{\Omega}$ limitato.
    Sia $u\in\sobWc[1,p]{\Omega}$ e, fissato $\epsilon>0$, definiamo $A_\epsilon\defeq\{u_\epsilon\colon u\in A\}$ (l'insieme delle regolarizzazioni delle funzioni di $A$): i suoi elementi sono regolari per definizione, e per essi sappiamo che
    \begin{equation}
        u_\epsilon(\vec x)=
        \int_{B_\epsilon(\vec 0)} \rho_\epsilon(\vec y)u(\vec x-\vec y)\,\dd\mu(\vec y)=
        \int_{B_\epsilon(\vec 0)} \frac1{\epsilon^n}\rho\biggl(\frac{\vec y}{\epsilon}\biggr)u(\vec x-\vec y)\,\dd\mu(\vec y);
    \end{equation}
    effettuiamo il cambio di variabile $\vec y=\epsilon\vec z$ ($\dd\mu(\vec y)=\epsilon^n\,\dd\mu(\vec z)$), con $\vec z$ che dunque varia nella palla unitaria, e prendiamo il valore assoluto ottenendo
    \begin{multline}
        \abs{u_\epsilon(\vec x)}=
        \abs[\bigg]{\int_{B_1(\vec 0)} \rho(\vec z)u(\vec x-\epsilon\vec z)\,\dd\mu(\vec z)}\le
        \int_{B_1(\vec 0)} \rho(\vec z)\abs{u(\vec x-\epsilon\vec z)}\,\dd\mu(\vec z)\le\\ \le
        \norm{u}_1\sup_{B_1(\vec 0)}\rho\le
        \sup_{u\in A}\norm{u}_1\sup_{B_1(\vec 0)}\rho
    \end{multline}
    e $\sup_{u\in A}\norm{u}_1<+\infty$ poich\'e per il teorema di Sobolev \ref{t:sobolev} si ha $\sobWc[1,p]{\Omega}\subset\sobW[1,p]{\Omega}\emb\leb[1]{\Omega}$, dunque $A$ è limitato anche in $\leb[1]{\Omega}$, mentre $\sup_{B_1(\vec 0)}\rho<+\infty$ poich\'e $\rho\in\cont[\infty]{B_1(\vec 0)}$: il loro prodotto fornisce un limite superiore a $\abs{u_\epsilon(\vec x)}$ per ogni $\vec x\in E$ e $u\in A$, dunque $A_\epsilon$ è uniformemente limitato.
    Esso è anche equicontinuo, poich\'e la derivata è uniformemente limitata:
    \begin{multline}
        \norm{\grad u_\epsilon(\vec x)}=
        \norm[\bigg]{\int_{B_\epsilon(\vec 0)}\grad\rho_\epsilon(\vec y)u(\vec x-\vec y)\,\dd\mu(\vec y)}\le
        \int_{B_1(\vec 0)}\norm{\grad\rho(\vec z)}\abs{u(\vec x-\epsilon\vec z)}\,\dd\mu(\vec z)\le\\ \le
        \norm{u}_1\max_{B_1(\vec 0)}\norm{\grad\rho}<
        +\infty.
    \end{multline}
    Dato che $A_\epsilon\subset\cont{\clos{\Omega}}$ è uniformemente limitato ed equicontinuo, per il teorema di Ascoli-Arzelà \ref{t:ascoli-arzela} ogni successione in $A_\epsilon$ ammette una sottosuccessione convergente in $\cont{\clos{\Omega}}$, che è quindi di Cauchy in quest'ultimo spazio.
    Allora presa $\{u_n\}_{n\in\N}\subset A_\epsilon$ abbiamo
    \begin{equation}
        \norm{u_n-u_m}_1=
        \int_\Omega\abs{u_n-u_m}\,\dd\mu\le
        \sup_\Omega\abs{u_n-u_m}\mu(\Omega)=
        \norm{u_n-u_m}_{\cont{\clos{\Omega}}}\mu(\Omega).
    \end{equation}
    e siccome $\{u_n\}$ è di Cauchy in $\cont{\clos{\Omega}}$ per ogni $\eta>0$ esiste $N\in\N_0$ tale che $\forall n,m>N$ si ha $\norm{u_n-u_m}_{\cont{\clos{\Omega}}}<\eta$: in tal caso quindi $\norm{u_n-u_m}_1<\eta\mu(\Omega)$ che significa che $\{u_n\}$ è di Cauchy anche in $\leb[1]{\Omega}$; per la completezza dello spazio, allora, $u_n$ converge in $\leb[1]{\Omega}$.
    Ciò prova che $A_\epsilon$ è relativamente compatto in $\leb[1]{\Omega}$.

    Passiamo ora al limite per $\epsilon\to 0$: dato che $\int_{B_1(\vec 0)}\rho\,\dd\mu=1$, si ha
    \begin{equation}
        \begin{split}
            u_\epsilon(\vec x)-u(\vec x)&=
            \int_{B_1(\vec 0)}\rho(\vec z)u(\vec x-\epsilon\vec z)\,\dd\mu(\vec z)-u(\vec x)\int_{B_1(\vec 0)}\rho(\vec z)\,\dd\mu(\vec z)=\\ &=
            \int_{B_1(\vec 0)}\rho(\vec z)\bigl[u(\vec x-\epsilon\vec z)-u(\vec x)\bigr]\,\dd\mu(\vec z)=\\ &=
            \int_{B_1(\vec 0)}\rho(\vec z)\biggl[\int_0^1\drp{u}{t}(\vec x-t\epsilon\vec z)\,\dd t\biggr]\,\dd\mu(\vec z)=\\ &=
            \int_{B_1(\vec 0)}\rho(\vec z)\biggl[\int_0^1-\epsilon\scalar{\vec z}{\grad u(\vec x-t\epsilon\vec z)}\,\dd t\biggr]\,\dd\mu(\vec z).
        \end{split}
    \end{equation}
    Integriamone il valore assoluto in $\Omega_\epsilon$ ottenendo
    \begin{equation}
        \begin{split}
            \int_{\Omega_\epsilon}\abs{u_n(\vec x)-u_m(\vec x)}\,\dd\mu(\vec x)&=
            \int_{\Omega_\epsilon}\epsilon\abs[\bigg]{\int_{B_1(\vec 0)}\rho(\vec z)\biggl[\int_0^1-\scalar{\vec z}{\grad u(\vec x-t\epsilon\vec z)}\,\dd t\biggr]\,\dd\mu(\vec z)}\,\dd\mu(\vec x)\le\\ &\le
            \epsilon\int_{\Omega_\epsilon}\int_{B_1(\vec 0)}\int_0^1\rho(\vec z)\norm{\vec z}\norm{\grad u(\vec x-t\epsilon\vec z)}\,\dd t\,\dd\mu(\vec z)\,\dd\mu(\vec x)\le\\ &\le
            \epsilon\int_{B_1(\vec 0)}\rho(\vec z)\int_0^1\int_{\Omega_\epsilon}\norm{\grad u(\vec x-t\epsilon\vec z)}\,\dd\mu(\vec x)\,\dd t\,\dd\mu(\vec z)\le\\ &\le
            \epsilon\int_{B_1(\vec 0)}\rho(\vec z)\int_0^1\int_\Omega\norm{\grad u(\vec x)}\,\dd\mu(\vec x)\,\dd t\,\dd\mu(\vec z)\le\\ &\le
            \epsilon\int_{B_1(\vec 0)}\rho(\vec z)\,\dd\mu(\vec z)\int_0^1\,\dd t\int_\Omega\norm{\grad u(\vec x)}\,\dd\mu(\vec x)=\\ &=
            \epsilon\norm{\grad u}_{\leb[1]{\Omega}}\,\dd\mu(\vec x),
        \end{split}
    \end{equation}
    e per la disuguaglianza di Hölder si ha
    \begin{equation}
        \epsilon\norm{\grad u}_{\leb[1]{\Omega}}\,\dd\mu(\vec x)\le
        \epsilon\mu(\Omega)^{1-\frac1{p}}\norm{\grad u}_{\leb[p]{\Omega}}\le
        \epsilon\mu(\Omega)^{1-\frac1{p}}\norm{u}_{\sobW[1,p]{\Omega}}\le
        c\epsilon
    \end{equation}
    per ogni $u\in A$.
    Per il teorema \ref{t:relativamente-compatto-sse-totalmente-limitato} allora $A$ è totalmente limitato in $\sobWc[1,p]{\Omega}$, ossia per ogni $\delta>0$ esiste $n=n(\delta)$ tale per cui $\exists\{a_1,\dotsc,a_n\}\subset A$ tale che $A\subset\bigcup_{i=1}^nB_\delta(a_i)$.
    Per ogni $u_\epsilon$ esiste dunque un $i\in\{1,\dotsc,n\}$ tale per cui $u_\epsilon\in B_\delta(a_i)$; ma allora se scegliamo $\delta>c\epsilon$, siccome $\norm{u-u_\epsilon}_1<c\epsilon$, si ha che $u\in B_{2\delta}(a_i)$.
    Possiamo allora ricoprire $A$ con gli intorni (questa volta nello spazio $\leb[1]{\Omega}$) $B_{2\delta}(a_i)$, ossia $A\subset\bigcup_{i=1}^nB_{2\delta}(a_i)$ quindi $A$ è totalmente limitato anche in $\leb[1]{\Omega}$: di conseguenza è anche relativamente compatto in tale spazio metrico, e questo prova la tesi per $q=1$.

    Rimane da mostrare l'esponente critico per $q$: sia $u\in\sobWc[1,p]{\Omega}$.
    Per il teorema di Sobolev \ref{t:sobolev} si ha che $u\in\leb[1]{\Omega}\cap\leb[\frac{np}{n-p}]{\Omega}$, quindi con la disuguaglianza di Hölder si dimostra che
    \begin{equation}
        \norm{u}_q\le
        \norm{u}_1^\alpha\norm{u}_\frac{np}{n-p}^{1-\alpha}
    \end{equation}
    per $\alpha\in[0,1]$ tale che
    \begin{equation}
        \frac1{q}=\alpha+\frac{(1-\alpha)(n-p)}{np}
        \qqq
        \alpha=\frac{\frac{np}{n-p}-q}{q(\frac{np}{n-p}-1)}.
        \label{eq:dim-rellich-kondrachov-lambda}
    \end{equation}
    Per il medesimo teorema $\norm{u}_\frac{np}{n-p}\le\norm{u}_{1,p}$, e dato che $A$ è limitato in $\sobW[1,p]{\Omega}$ si ha che
    \begin{equation}
        \norm{u}_q\le C\norm{u}_1^\alpha
    \end{equation}
    Dalla \eqref{eq:dim-rellich-kondrachov-lambda}, siccome vale sempre $\frac{np}{n-p}>1$, troviamo che
    \begin{equation}
        \begin{gathered}
            \alpha\ge 0
            \qtext{se}
            q\le\frac{np}{n-p}\\
            \alpha\le 1
            \qtext{se}
            q>1.
        \end{gathered}
    \end{equation}
    Ora, per ogni $\eta>0$, esiste $N\in\N$ tale che $\forall n,m>N$ si ha $\norm{u_n-u_m}_1<\eta$, siccome $\{u_n\}$ è di Cauchy in $\leb[1]{\Omega}$, perciò
    \begin{equation}
        \norm{u_n-u_m}_q\le
        \norm{u_n-u_m}_1^\alpha\norm{u_n-u_m}_\frac{np}{n-p}^{1-\alpha}<\eta^\alpha C
    \end{equation}
    e se $\alpha\ne 0$ (questo esclude quindi il caso $q=\frac{np}{n-p}$) ciò prova che $\{u_n\}$ è di Cauchy anche in $\leb[q]{\Omega}$, quindi converge a un $u\in\leb[q]{\Omega}$.
\end{proof}

\begin{teorema}[Disuguaglianza di Poincar\'e] \label{t:disuguaglianza-poincare}
    Sia $\Omega$ un sottoinsieme di $\R^n$ limitato in almeno una direzione (ossia esiste $c>0$ tale che $\Omega=\{\vec x\in\R^n\colon\vec x=(\vec x',x_n)\text{ con }\abs{x_n}\le c\}$): esiste una costante $C>0$ tale che per ogni $u\in\sobHc[1]{\Omega}$
    \begin{equation}
        \norm{u}_2\le\norm{\grad u}_2.
        \label{eq:disuguaglianza-poincare}
    \end{equation}
\end{teorema}
\begin{proof}
    Se $u=0$ la tesi è ovvia, quindi assumiamo $u\ne 0$: sia $u\in\contsc[1]{\Omega}$, e posto $\vec x=(\vec x',x_n)\in\R^{n-1}\times\R$, con $\abs{x_n}\le L$ per un $L>0$, risulta che
    \begin{multline}
        \abs{u(\vec x',x_n)}^2=
        \int_{-L}^{x_n}\drp{u}{t}\abs{u(\vec x',t)}^2\,\dd t=
        2\int_{-L}^{x_n}u(\vec x',t)\drp{u}{t}(\vec x',t)\,\dd t\le\\ \le
        2\int_{-L}^{x_n}\abs[\bigg]{u(\vec x',t)\drp{u}{t}(\vec x',t)}\,\dd t\le
        2\int_{-L}^L\abs{u(\vec x',t)}\abs[\bigg]{\drp{u}{t}(\vec x',t)}\,\dd t.
    \end{multline}
    Integriamo in $x_n\in[-L,L]$, ottenendo
    \begin{equation}
        \begin{split}
            \int_{-L}^L\abs{u(\vec x',x_n)}^2\,\dd x_n&\le
            2\int_{-L}^L\int_{-L}^L\abs{u(\vec x',t)}\abs[\bigg]{\drp{u}{t}(\vec x',t)}\,\dd t\,\dd x_n=\\ &=
            2\int_{-L}^L\dd x_n \int_{-L}^L\abs{u(\vec x',t)}\abs[\bigg]{\drp{u}{t}(\vec x',t)}\,\dd t=\\ &=
            4L\int_{-L}^L\abs{u(\vec x',t)}\abs[\bigg]{\drp{u}{t}(\vec x',t)}\,\dd t,
        \end{split}
    \end{equation}
    e poi su tutte le altre variabili:
    \begin{equation}
        \int_{\R^{n-1}}\int_{-L}^L\abs{u(\vec x',x_n)}^2\,\dd x_n\le 4L\int_{-L}^L\abs{u(\vec x',t)}\abs[\bigg]{\drp{u}{t}(\vec x',t)}\,\dd t
    \end{equation}
    da cui, siccome $\supp u\subset\Omega$, segue
    \begin{equation}
        \int_\Omega\abs{u}^2\,\dd\mu\le 4L\int_\Omega\abs{u}\abs[\bigg]{\drp{u}{t}}\,\dd\mu.
    \end{equation}
    Con la disuguaglianza di Cauchy-Schwarz si ha infine che
    \begin{equation}
        \int_\Omega\abs{u}\abs[\bigg]{\drp{u}{t}}\,\dd\mu\le
        \biggl(\int_\Omega\abs{u}^2\,\dd\mu\biggr)^\frac12\biggl(\int_\Omega\abs[\bigg]{\drp{u}{t}}^2\,\dd\mu\biggr)^\frac12\le
        \biggl(\int_\Omega\abs{u}^2\,\dd\mu\biggr)^\frac12\biggl(\int_\Omega\norm{\grad u}^2\,\dd\mu\biggr)^\frac12=
        \norm{u}_2\norm{\grad u}_2
    \end{equation}
    per cui si ha $\norm{u}_2^2\le 4L\norm{u}_2\norm{\grad u}_2$, da cui $\norm{u}_2\le 4L\norm{\grad u}_2$ che prova la tesi.
\end{proof}
Se la funzione $u$ non è tale che $\clos{\supp u}\subset\Omega$, allora questa disuguaglianza non può essere vera, come dimostra subito l'esempio di una funzione costante: prendiamo $u=1$ e $\Omega=(0,1)$, per esempio.
Vale invece, più in generale e anche in questi casi, la \emph{disuguaglianza di Wirtinger}
\begin{equation}
    \norm{u-\bar{u}}_2\le C\norm{\grad u}_2
    \label{eq:disuguaglianza-wirtinger}
\end{equation}
dove $\bar{u}=\frac1{\mu(\Omega)}\int_\Omega u\,\dd\mu$.
